<header>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="collapse navbar-collapse" id="vehicles-navbar">
        <ul class="nav navbar-nav">
          <li><a class="nav-item" role="button" data-toggle="collapse" href="#ModelSearch" aria-expanded="false" aria-controls="ModelSearch">Model <span class="caret"></span></a></li>
          <li><a class="nav-item" role="button" data-toggle="collapse" href="#BrandSearch" aria-expanded="false" aria-controls="BrandSearch">Manufacturer <span class="caret"></span></a></li>
          <li><a class="nav-item" role="button" data-toggle="collapse" href="#YearSearch"  aria-expanded="false" aria-controls="YearSearch">Year <span class="caret"></span></a></li>
          <li class="dropdown">
            <a class="nav-item dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Transmissions <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a (click)="this.Transmission('Manual')">Manual</a></li>
              <li><a (click)="this.Transmission('Automatic')">Automatic</a></li>
            </ul>
          </li>
        </ul>

        <form #searchForm="ngForm" class="navbar-form navbar-right">
          <div class="form-group">
            <input type="text" name="Search" [(ngModel)]="this.query.Search" class="form-control" placeholder="General Search" (keyup)="this.FilterList()">
          </div>
          <button class="nav-item btn btn-success" data-toggle="tooltip" data-placement="bottom" title="Reset All Filter Values" (click)="this.ClearFilter()">Reset</button>
        </form>
        
      </div>
    </div>
  </nav>

  <div class="collapse" id="ModelSearch">
    <div class="well">

      <div class="row">

        <div class="col-lg-4">
          <label for="modelName">Model Name:</label>
          <div class="input-group">
            <input type="text" name="modelName" [(ngModel)]="this.query.Model" class="form-control" placeholder="Enter Model Name" (keyup)="this.FilterList()">
            <span class="input-group-btn">
              <button class="btn btn-success" type="button">Clear</button>
            </span>
          </div>
        </div>

        <div class="col-lg-4">
          <label for="minPrice">Min. Price:</label>
          <div class="input-group">
            <input type="text" name="minPrice" [(ngModel)]="this.query.MinPrice" class="form-control" placeholder="Enter Min. Price" (keyup)="this.FilterList()">
            <span class="input-group-btn">
              <button class="btn btn-success" type="button">Clear</button>
            </span>
          </div>
        </div>

        <div class="col-lg-4">
          <label for="maxPrice">Max. Price:</label>
          <div class="input-group">
            <input type="text" name="maxPrice" [(ngModel)]="this.query.MaxPrice" class="form-control" placeholder="Enter Max. Price" (keyup)="this.FilterList()">
            <span class="input-group-btn">
              <button class="btn btn-success" type="button">Clear</button>
            </span>
          </div>
        </div>

      </div><!-- /.row -->

    </div>
  </div>

  <div class="collapse" id="BrandSearch">
    <div class="well">
      
      <div class="row">

        <div class="col-lg-6">
          <label for="brandName">Manufacturer:</label>
          <div class="input-group">
            <input type="text" name="brandName" [(ngModel)]="this.query.Manufacturer" class="form-control" placeholder="Enter Brand Name" (keyup)="this.FilterList()">
            <span class="input-group-btn">
              <button class="btn btn-success" type="button">Clear</button>
            </span>
          </div>
        </div>

      </div><!-- /.row -->

    </div>
  </div>

  <div class="collapse" id="YearSearch">
    <div class="well">
      
      <div class="row">

        <div class="col-lg-4">
          <label for="minYear">Min. Year</label>
          <div class="input-group">
            <input type="text" name="minYear" [(ngModel)]="this.query.MinYear" class="form-control" placeholder="Enter Min. Year" (keyup)="this.FilterList()">
            <span class="input-group-btn">
              <button class="btn btn-success" type="button">Clear</button>
            </span>
          </div>
        </div>

        <div class="col-lg-4">
          <label for="maxYear">Max. Year</label>
          <div class="input-group">
            <input type="text" name="maxYear" [(ngModel)]="this.query.MaxYear" class="form-control" placeholder="Enter Max. Year" (keyup)="this.FilterList()">
            <span class="input-group-btn">
              <button class="btn btn-success" type="button">Clear</button>
            </span>
          </div>
        </div>

      </div>

    </div>
  </div>

  <nav aria-label="Page navigation">
    <ul class="pagination">
      <li><span class="dropdown-success">
        <a class="dropdown-toggle" type="button" id="pageResults" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i class="fa fa-th"></i>  Layout <i class="fa fa-caret-down"></i></a>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
          <li><a (click)="this.Layout = 0"><i class="fa fa-th"></i> Gallery</a></li>
          <li><a (click)="this.Layout = 1"><i class="fa fa-th-list"></i> Details</a></li>
        </ul>
      </span></li>
      <li><span> ( {{this.DisplayList.length}} Items ) </span></li>
      <li class="disabled"><a aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>
      <li><a>1 <span class="sr-only"></span></a></li>
      <li><a>2 <span class="sr-only"></span></a></li>
      <li><a>3 <span class="sr-only"></span></a></li>
      <li><a>4 <span class="sr-only"></span></a></li>
      <li><a>5 <span class="sr-only"></span></a></li>
      <li class="disabled">
        <a aria-label="Next">
          <span aria-hidden="true">&raquo; </span>
        </a>
      </li>
    </ul>
  </nav>
</header>

<div *ngIf="this.Layout == 0;then Gallery else Details"></div>

<ng-template #Details>
  <div class="content row">
    <table class="table table-striped table-hover center">
      <thead>
        <tr>
          <th>Picture</th>
          <th>Manufacturer</th>
          <th>Model</th>
          <th>Year</th>
          <th>Color</th>
          <th>Transmission</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let model of this.DisplayList" >
          <td><img src="{{model.Picture}}" style="height:50px;"></td>
          <td>{{model.Brand}}</td>
          <td>{{model.Model}}</td>
          <td>{{model.Year}}</td>
          <td>{{model.Color}}</td>
          <td>{{model.Transmission}}</td>
          <td>
            <button routerLink="/Vehicles/Order" *ngIf="model.IsActive" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#orderModal"><i class="fa fa-shopping-cart"></i> Order</button>
            <button *ngIf="!model.IsActive" [disabled] class="btn btn-info btn-sm"><i class="fa fa-car"></i> Unavailable</button>
            <button class="btn btn-success btn-sm"><i class="fa fa-car"></i> Details</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</ng-template>

<ng-template #Gallery>
  <div class="row">
    <div *ngFor="let model of this.DisplayList" class="col-lg-4 col-md-6 mb-4">
      <div class="card h-100 content">
        <a href="#"><img class="card-img-top" src="{{model.Picture}}" alt=""></a>
        <div class="card-body">
          <h4 class="card-title">
            <a>{{model.Brand}} {{model.Model}}</a>
          </h4>
          <table class="table table-bordered">
            <tbody>
              <tr><td><strong>Year: </strong>{{model.Year}}</td></tr>
              <tr><td><strong>Color: </strong>{{model.Color}}</td></tr>
              <tr><td><strong>Transmission: </strong>{{model.Transmission}}</td></tr>
              <tr><td><strong>Value: </strong><i class="fa fa-shekel"></i> {{model.MarketPrice}}</td></tr>
            </tbody>
          </table>
        </div>
        <div class="card-footer">
          <i class="fa fa-star checked"></i><i class="fa fa-star checked"></i><i class="fa fa-star checked"></i><i class="fa fa-star"></i><i class="fa fa-star"></i>
          <span class="float-right"> 
            <button routerLink="/Vehicles/Order" *ngIf="model.IsActive" class="btn btn-primary btn-md" data-toggle="modal" data-target="#orderModal"><i class="fa fa-shopping-cart"></i> Order</button>
            <button *ngIf="!model.IsActive" [disabled] class="btn btn-info btn-md"><i class="fa fa-car"></i> Unavailable</button>
            <button class="btn btn-success btn-md"><i class="fa fa-car"></i> Details</button>
          </span>
        </div>
      </div>
    </div>
  </div>
</ng-template>